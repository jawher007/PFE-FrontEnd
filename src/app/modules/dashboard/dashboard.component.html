<div class="wrapper">

    <mat-card class="nestedgeneralinfo1 z-depth-3">

        <div class="colorea">
            <div class="text">Username : {{sessionvideo.username}} </div>
            <div class="text">Browser's name : {{sessionvideo.browsername}} </div>
            <div class="text">Operating system : {{sessionvideo.os}} <img class="image" src="/assets/windows.png"></div>
        </div>
        <div class="colorea">
            <div class="text">Browser Version : {{sessionvideo.browserversion}} </div>
            <div class="text">Test failed : {{sessionvideo.testfailed}} / {{sessionvideo.testcount}} <img class="image" src="/assets/failed.png"></div>
            <div class="text">Test passed : {{sessionvideo.testpassed}} / {{sessionvideo.testcount}} <img class="image" src="/assets/success.png"></div>
        </div>
        <div class="colorea">
            <div class="text">Started at : {{sessionvideo.startedAt}} <img class="image" src="/assets/calendar.png"></div>
            <div class="text">Session's title : {{sessionvideo.sessiontitle}} </div>
            <div class="text">Number of Tests : {{sessionvideo.testcount}} </div>
        </div>
    </mat-card>

    <mat-card>
        <div class="flexi">
            <h2 class="h2">Test Cases Within This Session</h2>
            <button type="button" class="btn btn-primary" (click)="generatePdf()">Export to PDF</button>
            <div *ngIf="showbutton" class="same1">
                <div class="loadingio-spinner-dual-ball-ch9ggzcuvhk">
                    <div class="ldio-fquply7zed">
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                </div>

                <p class="par">Please wait ...</p>

            </div>


            <details>
                <summary class="black">Test Dropdown</summary>
                <ul *ngFor="let testvideos of testvideo">

                    <li>
                        <div class="black" *ngFor="let testvideos of testvideo"> <input type="checkbox" [(ngModel)]="testvideos.checked" (change)="foo()" style="color:black"> {{testvideos.testrank}}</div>
                    </li>
                </ul>
            </details>





        </div>
    </mat-card>
    <mat-card class="flexing">
        <mat-card class="item">
            <div class="testdiv" *ngFor="let testsession of testvideo">
                <p class="text">| Test Case #{{testsession.testrank}} | {{testsession.testname}} | Test Status :
                    <span *ngIf="testsession.teststatus=='passed'" class="passed">{{testsession.teststatus}}</span> <span *ngIf="testsession.teststatus=='failed'" class="failed">{{testsession.teststatus}}</span> | Created at {{testsession.startedAt}}
                    <button class="buttonimg" (click)="viewtest(testsession.sessionid,testsession.testrank)"></button></p>
                <br></div>

        </mat-card>


    </mat-card>


</div>

<table id="Testprops" style="display: none;">
    <thead>
        <tr>
            <th>Session Proporties</th>
            <th>Values</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Username</td>
            <td>{{sessionvideo.username}}</td>
        </tr>
        <tr>
            <td>Browser's name</td>
            <td>{{sessionvideo.browsername}}</td>
        </tr>
        <tr>
            <td>Operating system</td>
            <td>{{sessionvideo.os}}</td>
        </tr>
        <tr>
            <td>Browser Version </td>
            <td>{{sessionvideo.browserversion}}</td>
        </tr>
        <tr>
            <td>Test failed</td>
            <td>{{sessionvideo.testfailed}} / {{sessionvideo.testcount}}</td>
        </tr>
        <tr>
            <td>Test passed </td>
            <td>{{sessionvideo.testpassed}} / {{sessionvideo.testcount}}</td>
        </tr>
        <tr>
            <td>Started at </td>
            <td>{{sessionvideo.startedAt}}</td>
        </tr>
        <tr>
            <td>Session's title</td>
            <td>{{sessionvideo.sessiontitle}}</td>
        </tr>
        <tr>
            <td>Number of Tests</td>
            <td>{{sessionvideo.testcount}}</td>
        </tr>
    </tbody>

</table>
<table id="pdfConvert" style="display: none;">
    <thead>
        <tr>
            <th>Capabilities ID</th>
            <th>Capabilities Details</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Cap 1</td>
            <td>{{sessionvideo.cap1}}</td>
        </tr>
        <tr>
            <td>Cap 2</td>
            <td>{{sessionvideo.cap2}}</td>
        </tr>
        <tr>
            <td>Cap 3</td>
            <td>{{sessionvideo.cap3}}</td>
        </tr>
        <tr>
            <td>Cap 4</td>
            <td>{{sessionvideo.cap4}}</td>
        </tr>
        <tr>
            <td>Cap 5</td>
            <td>{{sessionvideo.cap5}}</td>
        </tr>
        <tr>
            <td>Cap 6</td>
            <td>{{sessionvideo.cap6}}</td>
        </tr>
        <tr>
            <td>Cap 7</td>
            <td>{{sessionvideo.cap7}}</td>
        </tr>
        <tr>
            <td>Cap 8</td>
            <td>{{sessionvideo.cap8}}</td>
        </tr>
    </tbody>

</table>

<div *ngFor="let testsession of storedNames ; let i=index">

    <table id="pdfConverts{{i}}" style="display: none;">
        <thead>
            <tr>
                <th>Test rank</th>
                <th>Error details</th>

                <th>test status </th>

            </tr>
        </thead>
        <tbody>
            <tr>
                <td>{{testsession.testrank}}</td>
                <td>{{testsession.erreur}}</td>
                <td>{{testsession.teststatus}}</td>
            </tr>

        </tbody>

    </table>

    <table id="imgTable{{i}}" style="display: none;">
        <thead>
            <tr>
                <th>Step</th>
                <th>Timer</th>
                <th>Screenshot</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    Test Status : {{testsession.teststatus}}
                </td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td>
                    {{testsession.step1}}
                </td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td>
                    {{testsession.step2}}
                </td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td style="text-align: center;">{{testsession.step3}}</td>
                <td style="text-align: center;">{{testsession.time1}}</td>
                <td><img class="size-image" *ngIf="testsession?.screen1" [src]="testsession.screen1"></td>
            </tr>
            <tr>
                <td style="text-align: center;">{{testsession.step4}}</td>
                <td style="text-align: center;">{{testsession.time2}}</td>
                <td><img class="size-image" *ngIf="testsession?.screen2" [src]="testsession.screen2"></td>
            </tr>
            <tr>
                <td style="text-align: center;">{{testsession.step5}}</td>
                <td style="text-align: center;">{{testsession.time3}}</td>
                <td><img class="size-image" *ngIf="testsession?.screen3" [src]="testsession.screen3"></td>
            </tr>
            <tr>
                <td style="text-align: center;">{{testsession.step6}}</td>
                <td style="text-align: center;">{{testsession.time4}}</td>
                <td><img class="size-image" *ngIf="testsession?.screen4" [src]="testsession.screen4"></td>
            </tr>
            <tr>
                <td style="text-align: center;">{{testsession.step7}}</td>
                <td style="text-align: center;">{{testsession.time5}}</td>
                <td><img class="size-image" *ngIf="testsession?.screen5" [src]="testsession.screen5"></td>
            </tr>
            <tr>
                <td style="text-align: center;">{{testsession.step8}}</td>
                <td style="text-align: center;">{{testsession.time6}}</td>
                <td><img class="size-image" *ngIf="testsession?.screen6" [src]="testsession.screen6"></td>
            </tr>
            <tr>
                <td style="text-align: center;">{{testsession.step9}}</td>
                <td style="text-align: center;">{{testsession.time7}}</td>
                <td><img class="size-image" *ngIf="testsession?.screen7" [src]="testsession.screen7"></td>
            </tr>
            <tr>
                <td style="text-align: center;">{{testsession.step10}}</td>
                <td style="text-align: center;">{{testsession.time8}}</td>
                <td><img class="size-image" *ngIf="testsession?.screen8" [src]="testsession.screen8"></td>
            </tr>
            <tr>
                <td style="text-align: center;">{{testsession.step11}}</td>
                <td style="text-align: center;">{{testsession.time9}}</td>
                <td><img class="size-image" *ngIf="testsession?.screen9" [src]="testsession.screen9"></td>
            </tr>
            <tr>
                <td style="text-align: center;">{{testsession.step12}}</td>
                <td style="text-align: center;">{{testsession.time10}}</td>
                <td><img class="size-image" *ngIf="testsession?.screen10" [src]="testsession.screen10"></td>
            </tr>
            <tr>
                <td style="text-align: center;">{{testsession.step13}}</td>
                <td style="text-align: center;">{{testsession.time11}}</td>
                <td><img class="size-image" *ngIf="testsession?.screen11" [src]="testsession.screen11"></td>
            </tr>
            <tr>
                <td style="text-align: center;">{{testsession.step14}}</td>
                <td style="text-align: center;">{{testsession.time12}}</td>
                <td><img class="size-image" *ngIf="testsession?.screen12" [src]="testsession.screen12"></td>
            </tr>
            <tr>
                <td style="text-align: center;">{{testsession.step15}}</td>
                <td style="text-align: center;"></td>
                <td></td>
            </tr>






        </tbody>
    </table>